# 사용자 관리

> 사용자 관리에 대한 별도 정리자료

## 권한에 대하여

### 소유주, 그룹, 그 외 사람들

### rwx 로 권한을 표기한다

## /etc/passwd 에 대하여

### /etc/shadow 에 대하여

과거에는 /etc/passwd 파일에 직접 인코딩된 암호를 기록하여 사용했다.

이후 Shadow Suite의 적용으로 /etc/passwd에 직접 암호를 저장하지 않고,
/etc/shadow 에 각 유저에 매칭되는 암호화된 암호와 암호에 관련된 다양한 설정들을 기록해 사용하는 형태로 변모하였다.

보통 /etc/passwd 는 **644(rw-r-r)**의 권한을 갖고,
/etc/shadow는 **600(rw-권한없음-권한없음)**의 권한을 갖는다.

#### /etc/shadow의 구조

/etc/shadow 파일내에는 각 유저들의 **암호화된 비밀번호** 와 **비밀번호에 관련된 설정값** 들이 기록되어있다.

> `test:$6$O71pCNwB$GnBKDEYulhNdk0QFEpuDX3Ge(중략 ...):18112:0:99999:7:::`

##### 각 필드 살펴보기

**콜론 :** 을 구분자로 사용해 각 필드를 구분한다.

* 첫번째 - *test*
  * /etc/passwd 에 기록된 유저명과 매칭이 된다.
* 두번째 - "`$6$O71pCNwB$GnBKDEYulhNdk0QFEpuDX3Ge(중략 ...)`"
  * 암호화된 Password 이다. (동어 반복 느낌이 나서 굳이 영단어를 썼다)
  * 이 역시도 **달러기호 $** 를 구분자로 사용해 다시 필드가 나뉜다.
  * 첫번째 - *6*
  * 두번째 - *O71pCNwB*
  * 세번째 - *GnBKDEYulhNdk0QFEpuDX3Ge(중략 ...)*
* 세번째 - *18112*
* 네번째 - *0*
* 다섯번째 - *99999*
* 여섯번째 - *7*

#### 해시함수

[부록-해시함수.md](./부록-해시함수.md) 를 참고할 것.

쓰고나서 투머치한 감이 없잖게 있어서 따로 항목을 새로 만들었습니다.

사족과도 같은 내용으로 필요한 분만 간단하게 참고하는 용도로 열람하시면 될 것 같습니다.

## 사용자 추가, 삭제, 수정

### 사용자 추가하기

### 사용자 삭제하기

#### 사용자 삭제시 오류 사례

### 사용자 수정하기

### 사용자 목록 확인

### 패스워드 변경

## 그룹 추가, 삭제, 수정

### 그룹 목록 확인

## UID, GID
